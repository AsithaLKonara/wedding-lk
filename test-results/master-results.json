{
  "timestamp": "2025-09-05T16:13:08.601Z",
  "environment": {
    "node": "v20.19.4",
    "platform": "darwin",
    "arch": "x64"
  },
  "summary": {
    "total": 5,
    "passed": 0,
    "failed": 5,
    "skipped": 0,
    "criticalFailures": 4
  },
  "suites": [
    {
      "name": "API Tests",
      "status": "failed",
      "duration": 81830,
      "exitCode": 1,
      "stdout": "üöÄ Starting WeddingLK API Tests...\n\nBase URL: http://localhost:3000\n\nüìã Testing Public Endpoints...\n‚úÖ GET /api/health - 200 (27323ms)\n‚úÖ GET /api/vendors - 200 (2126ms)\n‚úÖ GET /api/venues - 200 (2574ms)\n‚úÖ GET /api/gallery - 200 (3907ms)\n‚ùå POST /api/auth/signin - 500 (17387ms)\n‚ùå POST /api/auth/signout - 500 (760ms)\n‚ùå POST /api/register - 400 (3113ms)\n‚ùå POST /api/auth/forgot-password - 400 (12600ms)\n\nüîê Testing Authenticated Endpoints...\n\nüë§ Testing as ADMIN...\n‚ùå Failed to authenticate as admin: Authentication failed for admin: 500\n\nüë§ Testing as VENDOR...\n‚ùå Failed to authenticate as vendor: Authentication failed for vendor: 500\n\nüë§ Testing as USER...\n‚ùå Failed to authenticate as user: Authentication failed for user: 500\n\nüìä Test Summary:\nTotal Tests: 28\nPassed: 4\nFailed: 4\nSkipped: 20\nSuccess Rate: 14.29%\n\nüìÑ Detailed results saved to: test-results.json\n\n‚ùå Some tests failed. Check the results file for details.\n",
      "stderr": "Authentication error for admin: Authentication failed for admin: 500\nAuthentication error for vendor: Authentication failed for vendor: 500\nAuthentication error for user: Authentication failed for user: 500\n",
      "critical": true
    },
    {
      "name": "Security Tests",
      "status": "timeout",
      "duration": 180035,
      "error": "Test timed out after 180 seconds",
      "stdout": "üîí Starting WeddingLK Security Tests...\n\nBase URL: http://localhost:3000\n\n\nüìã Testing AUTHENTICATION...\n‚ùå Admin Route Bypass - CRITICAL - Expected 401, got 404\n‚ùå Vendor Route Bypass - CRITICAL - Expected 401, got 404\n‚ùå User Route Bypass - CRITICAL - Expected 401, got 404\n\nüìã Testing AUTHORIZATION...\n‚ùå User to Admin Escalation - CRITICAL - Expected 401, got 200\n‚ùå Vendor to Admin Escalation - CRITICAL - Expected 401, got 200\n\nüìã Testing INJECTION...\n‚ùå SQL Injection in User ID - HIGH - Expected 400, got 404\n‚ùå SQL Injection in Search - HIGH - Expected 400, got 200\n\nüìã Testing XSS...\n‚úÖ XSS Script Tag - HIGH\n‚úÖ XSS Image Tag - HIGH\n\nüìã Testing CSRF...\n‚ùå CSRF Missing Token - MEDIUM - Expected 403, got 404\n\nüìã Testing VALIDATION...\n‚úÖ Email Validation - MEDIUM\n‚úÖ Password Validation - MEDIUM\n\nüìã Testing FILE_UPLOAD...\n‚ùå Executable File Upload - HIGH - Expected 400, got 503\n\nüìã Testing RATE_LIMITING...\n",
      "stderr": "",
      "critical": true
    },
    {
      "name": "TypeScript Compilation",
      "status": "timeout",
      "duration": 60013,
      "error": "Test timed out after 60 seconds",
      "stdout": "",
      "stderr": "",
      "critical": true
    },
    {
      "name": "ESLint",
      "status": "timeout",
      "duration": 120006,
      "error": "Test timed out after 120 seconds",
      "stdout": "",
      "stderr": "",
      "critical": false
    },
    {
      "name": "Build Test",
      "status": "timeout",
      "duration": 300011,
      "error": "Test timed out after 300 seconds",
      "stdout": "\n> weddinglk-next@1.0.0 build\n> next build\n\n   ‚ñ≤ Next.js 15.2.4\n   - Environments: .env.local, .env\n   - Experiments (use with caution):\n     ‚úì optimizeCss\n\n   Creating an optimized production build ...\n ‚úì Compiled successfully\n   Skipping validation of types\n   Skipping linting\n   Collecting page data ...\n‚úÖ Upstash Redis configured successfully\n‚úÖ Enhanced Cache using Upstash Redis service\nü§ñ Initializing WeddingLK Custom LLM...\n‚úÖ Upstash Redis configured successfully\n‚úÖ Enhanced Cache using Upstash Redis service\nüè• Load balancer health checks started\n‚úÖ Custom LLM initialized successfully\n‚úÖ Upstash Redis configured successfully\n‚úÖ Advanced cache service using Upstash Redis\n‚ö†Ô∏è Cloudinary import failed: Error: Invalid CLOUDINARY_URL protocol. URL should begin with 'cloudinary://'\n    at t.exports (.next/server/chunks/1870.js:1:14870)\n    at 10702 (.next/server/chunks/1870.js:1:16301)\n    at t (.next/server/webpack-runtime.js:1:143)\n    at 32650 (.next/server/chunks/1870.js:3:82627)\n    at t (.next/server/webpack-runtime.js:1:143)\n    at 71870 (.next/server/chunks/1870.js:11:34814)\n    at t (.next/server/webpack-runtime.js:1:143)\n    at t.t (.next/server/webpack-runtime.js:1:1360)\n    at async (.next/server/app/api/upload/route.js:1:4505)\n   Generating static pages (0/148) ...\n   Generating static pages (37/148) \r\n‚úÖ Upstash Redis configured successfully\n‚úÖ Advanced cache service using Upstash Redis\n‚úÖ Upstash Redis configured successfully\n‚úÖ Enhanced Cache using Upstash Redis service\nü§ñ Initializing WeddingLK Custom LLM...\nüè• Load balancer health checks started\n   Generating static pages (74/148) \r\n   Generating static pages (111/148) \r\n‚úÖ Custom LLM initialized successfully\n‚ö†Ô∏è Cloudinary import failed: Error: Invalid CLOUDINARY_URL protocol. URL should begin with 'cloudinary://'\n    at t.exports (.next/server/chunks/1870.js:1:14870)\n    at 10702 (.next/server/chunks/1870.js:1:16301)\n    at t (.next/server/webpack-runtime.js:1:143)\n    at 32650 (.next/server/chunks/1870.js:3:82627)\n    at t (.next/server/webpack-runtime.js:1:143)\n    at 71870 (.next/server/chunks/1870.js:11:34814)\n    at t (.next/server/webpack-runtime.js:1:143)\n    at t.t (.next/server/webpack-runtime.js:1:1360)\n    at async (.next/server/app/api/upload/route.js:1:4505)\n ‚úì Generating static pages (148/148)\nüîå MongoDB connection closed through app termination\nüîå MongoDB connection closed through app termination\nüîå MongoDB connection closed through app termination\n   Finalizing page optimization ...\n   Collecting build traces ...\nüîå MongoDB connection closed through app termination\nüîå MongoDB connection closed through app termination\nüîå MongoDB connection closed through app termination\n",
      "stderr": "‚ùå Health check failed for https://wedding-lk.vercel.app: Error [AbortError]: This operation was aborted\n    at async l.checkInstanceHealth (.next/server/app/api/cache-demo/route.js:1:2348)\n    at async l.performHealthChecks (.next/server/app/api/cache-demo/route.js:1:2182)\n    at async Timeout._onTimeout (.next/server/app/api/cache-demo/route.js:1:1957) {\n  code: 20,\n  INDEX_SIZE_ERR: 1,\n  DOMSTRING_SIZE_ERR: 2,\n  HIERARCHY_REQUEST_ERR: 3,\n  WRONG_DOCUMENT_ERR: 4,\n  INVALID_CHARACTER_ERR: 5,\n  NO_DATA_ALLOWED_ERR: 6,\n  NO_MODIFICATION_ALLOWED_ERR: 7,\n  NOT_FOUND_ERR: 8,\n  NOT_SUPPORTED_ERR: 9,\n  INUSE_ATTRIBUTE_ERR: 10,\n  INVALID_STATE_ERR: 11,\n  SYNTAX_ERR: 12,\n  INVALID_MODIFICATION_ERR: 13,\n  NAMESPACE_ERR: 14,\n  INVALID_ACCESS_ERR: 15,\n  VALIDATION_ERR: 16,\n  TYPE_MISMATCH_ERR: 17,\n  SECURITY_ERR: 18,\n  NETWORK_ERR: 19,\n  ABORT_ERR: 20,\n  URL_MISMATCH_ERR: 21,\n  QUOTA_EXCEEDED_ERR: 22,\n  TIMEOUT_ERR: 23,\n  INVALID_NODE_TYPE_ERR: 24,\n  DATA_CLONE_ERR: 25\n}\n‚ùå Health check failed for https://wedding-lk-git-main.vercel.app: Error [AbortError]: This operation was aborted\n    at async l.checkInstanceHealth (.next/server/app/api/cache-demo/route.js:1:2348)\n    at async l.performHealthChecks (.next/server/app/api/cache-demo/route.js:1:2182)\n    at async Timeout._onTimeout (.next/server/app/api/cache-demo/route.js:1:1957) {\n  code: 20,\n  INDEX_SIZE_ERR: 1,\n  DOMSTRING_SIZE_ERR: 2,\n  HIERARCHY_REQUEST_ERR: 3,\n  WRONG_DOCUMENT_ERR: 4,\n  INVALID_CHARACTER_ERR: 5,\n  NO_DATA_ALLOWED_ERR: 6,\n  NO_MODIFICATION_ALLOWED_ERR: 7,\n  NOT_FOUND_ERR: 8,\n  NOT_SUPPORTED_ERR: 9,\n  INUSE_ATTRIBUTE_ERR: 10,\n  INVALID_STATE_ERR: 11,\n  SYNTAX_ERR: 12,\n  INVALID_MODIFICATION_ERR: 13,\n  NAMESPACE_ERR: 14,\n  INVALID_ACCESS_ERR: 15,\n  VALIDATION_ERR: 16,\n  TYPE_MISMATCH_ERR: 17,\n  SECURITY_ERR: 18,\n  NETWORK_ERR: 19,\n  ABORT_ERR: 20,\n  URL_MISMATCH_ERR: 21,\n  QUOTA_EXCEEDED_ERR: 22,\n  TIMEOUT_ERR: 23,\n  INVALID_NODE_TYPE_ERR: 24,\n  DATA_CLONE_ERR: 25\n}\n‚ùå Health check failed for https://wedding-lk-git-preview.vercel.app: Error [AbortError]: This operation was aborted\n    at async l.checkInstanceHealth (.next/server/app/api/cache-demo/route.js:1:2348)\n    at async l.performHealthChecks (.next/server/app/api/cache-demo/route.js:1:2182)\n    at async Timeout._onTimeout (.next/server/app/api/cache-demo/route.js:1:1957) {\n  code: 20,\n  INDEX_SIZE_ERR: 1,\n  DOMSTRING_SIZE_ERR: 2,\n  HIERARCHY_REQUEST_ERR: 3,\n  WRONG_DOCUMENT_ERR: 4,\n  INVALID_CHARACTER_ERR: 5,\n  NO_DATA_ALLOWED_ERR: 6,\n  NO_MODIFICATION_ALLOWED_ERR: 7,\n  NOT_FOUND_ERR: 8,\n  NOT_SUPPORTED_ERR: 9,\n  INUSE_ATTRIBUTE_ERR: 10,\n  INVALID_STATE_ERR: 11,\n  SYNTAX_ERR: 12,\n  INVALID_MODIFICATION_ERR: 13,\n  NAMESPACE_ERR: 14,\n  INVALID_ACCESS_ERR: 15,\n  VALIDATION_ERR: 16,\n  TYPE_MISMATCH_ERR: 17,\n  SECURITY_ERR: 18,\n  NETWORK_ERR: 19,\n  ABORT_ERR: 20,\n  URL_MISMATCH_ERR: 21,\n  QUOTA_EXCEEDED_ERR: 22,\n  TIMEOUT_ERR: 23,\n  INVALID_NODE_TYPE_ERR: 24,\n  DATA_CLONE_ERR: 25\n}\n‚ùå Health check failed for https://wedding-lk.vercel.app: Error [AbortError]: This operation was aborted\n    at async l.checkInstanceHealth (.next/server/app/api/cache-demo/route.js:1:2348)\n    at async l.performHealthChecks (.next/server/app/api/cache-demo/route.js:1:2182)\n    at async Timeout._onTimeout (.next/server/app/api/cache-demo/route.js:1:1957) {\n  code: 20,\n  INDEX_SIZE_ERR: 1,\n  DOMSTRING_SIZE_ERR: 2,\n  HIERARCHY_REQUEST_ERR: 3,\n  WRONG_DOCUMENT_ERR: 4,\n  INVALID_CHARACTER_ERR: 5,\n  NO_DATA_ALLOWED_ERR: 6,\n  NO_MODIFICATION_ALLOWED_ERR: 7,\n  NOT_FOUND_ERR: 8,\n  NOT_SUPPORTED_ERR: 9,\n  INUSE_ATTRIBUTE_ERR: 10,\n  INVALID_STATE_ERR: 11,\n  SYNTAX_ERR: 12,\n  INVALID_MODIFICATION_ERR: 13,\n  NAMESPACE_ERR: 14,\n  INVALID_ACCESS_ERR: 15,\n  VALIDATION_ERR: 16,\n  TYPE_MISMATCH_ERR: 17,\n  SECURITY_ERR: 18,\n  NETWORK_ERR: 19,\n  ABORT_ERR: 20,\n  URL_MISMATCH_ERR: 21,\n  QUOTA_EXCEEDED_ERR: 22,\n  TIMEOUT_ERR: 23,\n  INVALID_NODE_TYPE_ERR: 24,\n  DATA_CLONE_ERR: 25\n}\n‚ùå Health check failed for https://wedding-lk-git-main.vercel.app: Error [AbortError]: This operation was aborted\n    at async l.checkInstanceHealth (.next/server/app/api/cache-demo/route.js:1:2348)\n    at async l.performHealthChecks (.next/server/app/api/cache-demo/route.js:1:2182)\n    at async Timeout._onTimeout (.next/server/app/api/cache-demo/route.js:1:1957) {\n  code: 20,\n  INDEX_SIZE_ERR: 1,\n  DOMSTRING_SIZE_ERR: 2,\n  HIERARCHY_REQUEST_ERR: 3,\n  WRONG_DOCUMENT_ERR: 4,\n  INVALID_CHARACTER_ERR: 5,\n  NO_DATA_ALLOWED_ERR: 6,\n  NO_MODIFICATION_ALLOWED_ERR: 7,\n  NOT_FOUND_ERR: 8,\n  NOT_SUPPORTED_ERR: 9,\n  INUSE_ATTRIBUTE_ERR: 10,\n  INVALID_STATE_ERR: 11,\n  SYNTAX_ERR: 12,\n  INVALID_MODIFICATION_ERR: 13,\n  NAMESPACE_ERR: 14,\n  INVALID_ACCESS_ERR: 15,\n  VALIDATION_ERR: 16,\n  TYPE_MISMATCH_ERR: 17,\n  SECURITY_ERR: 18,\n  NETWORK_ERR: 19,\n  ABORT_ERR: 20,\n  URL_MISMATCH_ERR: 21,\n  QUOTA_EXCEEDED_ERR: 22,\n  TIMEOUT_ERR: 23,\n  INVALID_NODE_TYPE_ERR: 24,\n  DATA_CLONE_ERR: 25\n}\n‚ùå Health check failed for https://wedding-lk-git-preview.vercel.app: Error [AbortError]: This operation was aborted\n    at async l.checkInstanceHealth (.next/server/app/api/cache-demo/route.js:1:2348)\n    at async l.performHealthChecks (.next/server/app/api/cache-demo/route.js:1:2182)\n    at async Timeout._onTimeout (.next/server/app/api/cache-demo/route.js:1:1957) {\n  code: 20,\n  INDEX_SIZE_ERR: 1,\n  DOMSTRING_SIZE_ERR: 2,\n  HIERARCHY_REQUEST_ERR: 3,\n  WRONG_DOCUMENT_ERR: 4,\n  INVALID_CHARACTER_ERR: 5,\n  NO_DATA_ALLOWED_ERR: 6,\n  NO_MODIFICATION_ALLOWED_ERR: 7,\n  NOT_FOUND_ERR: 8,\n  NOT_SUPPORTED_ERR: 9,\n  INUSE_ATTRIBUTE_ERR: 10,\n  INVALID_STATE_ERR: 11,\n  SYNTAX_ERR: 12,\n  INVALID_MODIFICATION_ERR: 13,\n  NAMESPACE_ERR: 14,\n  INVALID_ACCESS_ERR: 15,\n  VALIDATION_ERR: 16,\n  TYPE_MISMATCH_ERR: 17,\n  SECURITY_ERR: 18,\n  NETWORK_ERR: 19,\n  ABORT_ERR: 20,\n  URL_MISMATCH_ERR: 21,\n  QUOTA_EXCEEDED_ERR: 22,\n  TIMEOUT_ERR: 23,\n  INVALID_NODE_TYPE_ERR: 24,\n  DATA_CLONE_ERR: 25\n}\n",
      "critical": true
    }
  ]
}